openapi: 3.0.3
info:
  title: Script Ohio 2.0 Analytics Platform API
  description: |
    Comprehensive API for the Script Ohio 2.0 intelligent college football analytics platform.

    This API provides access to:
    - Analytics Orchestrator for intelligent request processing
    - Agent System for specialized analytics tasks
    - Model Execution for ML model predictions
    - Data Access for dataset loading and export
    - Monitoring for system health and performance metrics

    The platform features role-based user experiences (Analyst, Data Scientist, Production)
    with intelligent context optimization and specialized agent coordination.

    ## Authentication

    The API supports multiple authentication methods:
    - **No Auth**: Local development and testing
    - **API Key**: Recommended for production applications
    - **Session-Based**: For web applications

    ## Rate Limiting

    - **Public**: 100 requests/minute
    - **API Key**: 1,000 requests/minute
    - **Session**: 2,000 requests/minute
    - **Enterprise**: 10,000 requests/minute
  version: 1.0.0
  contact:
    name: Script Ohio 2.0 API Support
    email: api-support@scriptohio.com
    url: https://docs.scriptohio.com/support
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
servers:
  - url: http://localhost:8000/api/v1
    description: Local development server
  - url: https://api.scriptohio.com/api/v1
    description: Production server
  - url: https://staging-api.scriptohio.com/api/v1
    description: Staging server

tags:
  - name: Analytics
    description: Analytics orchestrator and intelligent request processing
  - name: Agents
    description: Agent system management and execution
  - name: Models
    description: ML model execution and predictions
  - name: Data
    description: Data loading, filtering, and export
  - name: Monitoring
    description: System health and performance monitoring
  - name: Authentication
    description: Authentication and session management

paths:
  /analytics/process:
    post:
      tags:
        - Analytics
      summary: Process analytics request
      description: |
        Process analytics requests through the intelligent orchestrator.

        The orchestrator automatically detects user roles, optimizes context,
        and routes requests to appropriate specialized agents.

        **Query Types:**
        - `learning`: Educational guidance and learning path recommendations
        - `analysis`: Advanced analytics and data exploration
        - `prediction`: Model-based predictions and forecasts
        - `automation`: Workflow automation and batch processing
      operationId: processAnalyticsRequest
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AnalyticsRequest'
            examples:
              learning_request:
                summary: Beginner learning request
                value:
                  user_id: "student_001"
                  query: "I want to learn college football analytics basics"
                  query_type: "learning"
                  parameters: {}
                  context_hints:
                    skill_level: "beginner"
              analysis_request:
                summary: Advanced analysis request
                value:
                  user_id: "data_scientist_001"
                  query: "Analyze team efficiency metrics for Ohio State 2025 season"
                  query_type: "analysis"
                  parameters:
                    analysis_type: "performance"
                    focus_areas: ["efficiency", "explosiveness"]
                    models: ["xgb_home_win_model_2025.pkl"]
                  context_hints:
                    skill_level: "advanced"
                    role: "data_scientist"
              prediction_request:
                summary: Game prediction request
                value:
                  user_id: "production_system"
                  query: "Predict Ohio State vs Michigan outcome"
                  query_type: "prediction"
                  parameters:
                    teams: ["Ohio State", "Michigan"]
                    model_type: "ensemble"
                    fast_mode: true
                  context_hints:
                    role: "production"
                    priority: "high"
                  priority: 3
      responses:
        '200':
          description: Successful analytics processing
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnalyticsResponse'
              examples:
                success_response:
                  summary: Successful learning response
                  value:
                    request_id: "req_123456789"
                    status: "success"
                    results:
                      learning_path:
                        next_step: "starter_pack/01_intro_to_data.ipynb"
                        recommendations:
                          - "Start with data dictionary"
                          - "Explore basic rankings"
                    insights:
                      - "Perfect starting point for beginners"
                      - "Hands-on learning with real data"
                      - "Estimated completion time: 2 hours"
                    visualizations:
                      - type: "learning_path_chart"
                        data:
                          current_position: 1
                          total_steps: 12
                    execution_time: 1.23
                    metadata:
                      agent_used: "learning_navigator"
                      context_optimized: true
                      cache_hit: false
        '400':
          description: Bad request - Invalid input parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '429':
          description: Rate limit exceeded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /analytics/session/{user_id}:
    get:
      tags:
        - Analytics
      summary: Get user session information
      description: Retrieve active session information, learning history, and personalized recommendations
      operationId: getUserSession
      parameters:
        - name: user_id
          in: path
          required: true
          description: Unique identifier for the user
          schema:
            type: string
            example: "data_scientist_001"
      responses:
        '200':
          description: User session information retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserSession'
        '404':
          description: User session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /analytics/learning-path/{user_id}:
    get:
      tags:
        - Analytics
      summary: Get personalized learning path
      description: Get personalized learning path recommendations based on user skill level and interests
      operationId: getLearningPath
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
        - name: skill_level
          in: query
          description: User skill level
          schema:
            type: string
            enum: [beginner, intermediate, advanced]
            default: intermediate
        - name: interests
          in: query
          description: User interests (comma-separated)
          schema:
            type: string
            example: "data_analysis,sports_statistics,predictive_modeling"
        - name: goals
          in: query
          description: Learning objectives
          schema:
            type: string
            example: "understand_analytics,build_models"
      responses:
        '200':
          description: Learning path retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningPath'

  /analytics/capabilities:
    get:
      tags:
        - Analytics
      summary: Get available capabilities
      description: Get list of available analytics capabilities based on user role
      operationId: getCapabilities
      responses:
        '200':
          description: Capabilities retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Capabilities'

  /agents/list:
    get:
      tags:
        - Agents
      summary: List available agents
      description: Get list of all available agents and their capabilities
      operationId: listAgents
      responses:
        '200':
          description: Agents listed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AgentList'

  /agents/{agent_id}/execute:
    post:
      tags:
        - Agents
      summary: Execute agent action
      description: Execute specific action on a specialized agent
      operationId: executeAgentAction
      parameters:
        - name: agent_id
          in: path
          required: true
          description: ID of the agent to execute
          schema:
            type: string
            example: "learning_navigator_001"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AgentExecutionRequest'
      responses:
        '200':
          description: Agent action executed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AgentExecutionResponse'

  /agents/{agent_id}/status:
    get:
      tags:
        - Agents
      summary: Get agent status
      description: Get current status and health of specific agent
      operationId: getAgentStatus
      parameters:
        - name: agent_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Agent status retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AgentStatus'

  /models/list:
    get:
      tags:
        - Models
      summary: List available models
      description: Get list of all available ML models with performance metrics
      operationId: listModels
      responses:
        '200':
          description: Models listed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelList'

  /models/{model_id}/predict:
    post:
      tags:
        - Models
      summary: Execute model prediction
      description: Execute prediction using specified ML model
      operationId: executeModelPrediction
      parameters:
        - name: model_id
          in: path
          required: true
          description: ID of the model to use for prediction
          schema:
            type: string
            example: "xgb_home_win_model_2025"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PredictionRequest'
      responses:
        '200':
          description: Prediction executed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PredictionResponse'

  /models/{model_id}/batch-predict:
    post:
      tags:
        - Models
      summary: Execute batch predictions
      description: Execute batch predictions for multiple games
      operationId: executeBatchPrediction
      parameters:
        - name: model_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchPredictionRequest'
      responses:
        '200':
          description: Batch predictions completed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchPredictionResponse'

  /models/{model_id}/explain:
    get:
      tags:
        - Models
      summary: Get model explanation
      description: Get SHAP-based model explanation and feature importance
      operationId: getModelExplanation
      parameters:
        - name: model_id
          in: path
          required: true
          schema:
            type: string
        - name: feature_subset
          in: query
          description: Specific features to explain
          schema:
            type: string
        - name: sample_size
          in: query
          description: Number of samples for explanation
          schema:
            type: integer
            default: 100
        - name: explanation_type
          in: query
          description: Type of explanation to generate
          schema:
            type: string
            enum: [global, local, both]
            default: both
      responses:
        '200':
          description: Model explanation generated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelExplanation'

  /data/load:
    post:
      tags:
        - Data
      summary: Load dataset
      description: Load specified dataset with optional filtering and column selection
      operationId: loadDataset
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataLoadRequest'
      responses:
        '200':
          description: Dataset loaded successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataLoadResponse'

  /data/export:
    post:
      tags:
        - Data
      summary: Export data
      description: Export dataset in specified format with optional compression
      operationId: exportData
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataExportRequest'
      responses:
        '200':
          description: Data export initiated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataExportResponse'

  /data/schema/{dataset_type}:
    get:
      tags:
        - Data
      summary: Get dataset schema
      description: Get schema and metadata for dataset type
      operationId: getDatasetSchema
      parameters:
        - name: dataset_type
          in: path
          required: true
          description: Type of dataset to get schema for
          schema:
            type: string
            enum: [games, teams, players, plays]
      responses:
        '200':
          description: Dataset schema retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DatasetSchema'

  /monitoring/health:
    get:
      tags:
        - Monitoring
      summary: Get system health
      description: Get overall system health status and component status
      operationId: getSystemHealth
      responses:
        '200':
          description: System health status retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemHealth'

  /monitoring/metrics:
    get:
      tags:
        - Monitoring
      summary: Get performance metrics
      description: Get detailed performance metrics for the specified time range
      operationId: getPerformanceMetrics
      parameters:
        - name: time_range
          in: query
          description: Time range for metrics
          schema:
            type: string
            enum: [1h, 24h, 7d, 30d]
            default: 24h
        - name: component
          in: query
          description: Specific component to query
          schema:
            type: string
            enum: [analytics_orchestrator, agent_system, model_engine, data_layer]
        - name: metric_type
          in: query
          description: Type of metrics to retrieve
          schema:
            type: string
            enum: [performance, usage, errors]
            default: performance
      responses:
        '200':
          description: Performance metrics retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PerformanceMetrics'

components:
  schemas:
    AnalyticsRequest:
      type: object
      required:
        - user_id
        - query
        - query_type
        - parameters
        - context_hints
      properties:
        user_id:
          type: string
          description: Unique identifier for the user
          example: "data_scientist_001"
        query:
          type: string
          description: Natural language query describing the analytics request
          example: "Analyze team efficiency metrics for Ohio State 2025 season"
        query_type:
          type: string
          enum: [learning, analysis, prediction, automation]
          description: Type of analytics request
        parameters:
          type: object
          description: Parameters specific to the query type
          properties:
            analysis_type:
              type: string
              enum: [performance, efficiency, comparison, trend]
            focus_areas:
              type: array
              items:
                type: string
              example: ["efficiency", "explosiveness", "predictions"]
            models:
              type: array
              items:
                type: string
              example: ["xgb_home_win_model_2025.pkl", "ridge_model_2025.joblib"]
            teams:
              type: array
              items:
                type: string
              example: ["Ohio State", "Michigan"]
            fast_mode:
              type: boolean
              description: Enable fast processing mode
              default: false
        context_hints:
          type: object
          description: Context information for optimizing the request
          properties:
            skill_level:
              type: string
              enum: [beginner, intermediate, advanced]
            role:
              type: string
              enum: [analyst, data_scientist, production]
            interests:
              type: array
              items:
                type: string
        priority:
          type: integer
          minimum: 1
          maximum: 5
          description: Request priority (1=lowest, 5=highest)
          default: 1

    AnalyticsResponse:
      type: object
      properties:
        request_id:
          type: string
          description: Unique identifier for the request
          example: "req_123456789"
        status:
          type: string
          enum: [success, error]
        results:
          type: object
          description: Analysis results (structure varies by query type)
        insights:
          type: array
          items:
            type: string
          description: Key insights and recommendations
          example:
            - "Ohio State shows top 10% efficiency metrics"
            - "Explosiveness rating above season average"
        visualizations:
          type: array
          items:
            $ref: '#/components/schemas/Visualization'
        error_message:
          type: string
          description: Error message (if status is error)
        execution_time:
          type: number
          format: float
          description: Execution time in seconds
          example: 1.23
        metadata:
          type: object
          properties:
            agent_used:
              type: string
            context_optimized:
              type: boolean
            cache_hit:
              type: boolean

    Visualization:
      type: object
      properties:
        type:
          type: string
          description: Type of visualization
          example: "efficiency_chart"
        data:
          type: object
          description: Visualization data
        metadata:
          type: object
          properties:
            title:
              type: string
            description:
              type: string

    UserSession:
      type: object
      properties:
        user_id:
          type: string
        session_active:
          type: boolean
        session_start_time:
          type: string
          format: date-time
        interaction_count:
          type: integer
        learning_progress:
          type: object
          properties:
            skill_level:
              type: string
            completed_tutorials:
              type: array
              items:
                type: string
            recommended_next_steps:
              type: array
              items:
                type: string
        performance_metrics:
          type: object
          properties:
            average_response_time:
              type: number
            task_success_rate:
              type: number
            user_satisfaction_score:
              type: number

    LearningPath:
      type: object
      properties:
        user_id:
          type: string
        recommended_path:
          type: array
          items:
            type: object
            properties:
              step:
                type: integer
              title:
                type: string
              description:
                type: string
              resource_type:
                type: string
                enum: [notebook, tutorial, video, documentation]
              resource_url:
                type: string
              estimated_time:
                type: integer
                description: Time in minutes
              prerequisites:
                type: array
                items:
                  type: string
              learning_objectives:
                type: array
                items:
                  type: string
        alternative_paths:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              description:
                type: string
              steps:
                type: array
                items:
                  type: string

    Capabilities:
      type: object
      properties:
        data_access:
          type: object
          properties:
            notebooks:
              type: array
              items:
                type: string
            models:
              type: array
              items:
                type: string
            datasets:
              type: array
              items:
                type: string
        features:
          type: object
          properties:
            analysis_types:
              type: array
              items:
                type: string
            visualization_types:
              type: array
              items:
                type: string
            export_formats:
              type: array
              items:
                type: string
        permissions:
          type: object
          properties:
            read_access:
              type: array
              items:
                type: string
            execute_access:
              type: array
              items:
                type: string
            write_access:
              type: array
              items:
                type: string

    AgentList:
      type: object
      properties:
        agents:
          type: array
          items:
            type: object
            properties:
              agent_id:
                type: string
              name:
                type: string
              description:
                type: string
              capabilities:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    description:
                      type: string
                    permission_required:
                      type: string
                    tools_required:
                      type: array
                      items:
                        type: string
              permission_level:
                type: string
              status:
                type: string
                enum: [active, inactive, maintenance]
        total_count:
          type: integer

    AgentExecutionRequest:
      type: object
      required:
        - action
        - parameters
        - user_context
      properties:
        action:
          type: string
          description: Action to execute on the agent
        parameters:
          type: object
          properties:
            input_data:
              type: object
            configuration:
              type: object
        user_context:
          type: object
          properties:
            user_id:
              type: string
            role:
              type: string
            permissions:
              type: array
              items:
                type: string

    AgentExecutionResponse:
      type: object
      properties:
        execution_id:
          type: string
        status:
          type: string
          enum: [success, error, in_progress]
        result:
          type: object
        execution_time:
          type: number
          format: float
        agent_metadata:
          type: object
          properties:
            agent_id:
              type: string
            action_executed:
              type: string
            version:
              type: string

    AgentStatus:
      type: object
      properties:
        agent_id:
          type: string
        status:
          type: string
          enum: [healthy, unhealthy, maintenance]
        uptime:
          type: number
          description: Uptime in seconds
        last_execution:
          type: string
          format: date-time
        performance_metrics:
          type: object
          properties:
            average_response_time:
              type: number
            success_rate:
              type: number
            error_count:
              type: integer
        system_resources:
          type: object
          properties:
            memory_usage:
              type: number
            cpu_usage:
              type: number

    ModelList:
      type: object
      properties:
        models:
          type: array
          items:
            type: object
            properties:
              model_id:
                type: string
              name:
                type: string
              type:
                type: string
                enum: [regression, classification, neural_network]
              version:
                type: string
              description:
                type: string
              performance_metrics:
                type: object
                properties:
                  accuracy:
                    type: number
                  mae:
                    type: number
                  rmse:
                    type: number
              features:
                type: array
                items:
                  type: string
              target_variable:
                type: string
              training_data_period:
                type: string

    PredictionRequest:
      type: object
      required:
        - input_data
      properties:
        input_data:
          type: object
          properties:
            home_team:
              type: string
              example: "Ohio State"
            away_team:
              type: string
              example: "Michigan"
            features:
              type: object
              additionalProperties:
                type: number
              example:
                home_elo: 85.2
                away_elo: 82.1
                home_talent: 0.89
                away_talent: 0.84
        prediction_type:
          type: string
          enum: [single, batch]
          default: single
        confidence_interval:
          type: boolean
          default: false
        include_features:
          type: boolean
          default: true

    PredictionResponse:
      type: object
      properties:
        prediction_id:
          type: string
        model_id:
          type: string
        prediction:
          type: object
          properties:
            outcome:
              type: string
            confidence_score:
              type: number
              minimum: 0
              maximum: 1
            predicted_margin:
              type: number
            probability_distribution:
              type: object
        explanation:
          type: object
          properties:
            key_factors:
              type: array
              items:
                type: object
                properties:
                  feature:
                    type: string
                  importance:
                    type: number
                  value:
                    type: string
            reasoning:
              type: string
        execution_metadata:
          type: object
          properties:
            execution_time:
              type: number
            model_version:
              type: string
            feature_count:
              type: integer

    BatchPredictionRequest:
      type: object
      required:
        - games
      properties:
        games:
          type: array
          items:
            type: object
            properties:
              game_id:
                type: string
              home_team:
                type: string
              away_team:
                type: string
              features:
                type: object
        parallel_execution:
          type: boolean
          default: true
        max_workers:
          type: integer
          default: 4

    BatchPredictionResponse:
      type: object
      properties:
        batch_id:
          type: string
        model_id:
          type: string
        predictions:
          type: array
          items:
            $ref: '#/components/schemas/PredictionResponse'
        execution_summary:
          type: object
          properties:
            total_games:
              type: integer
            successful_predictions:
              type: integer
            failed_predictions:
              type: integer
            total_execution_time:
              type: number

    ModelExplanation:
      type: object
      properties:
        model_id:
          type: string
        explanation_type:
          type: string
        feature_importance:
          type: array
          items:
            type: object
            properties:
              feature:
                type: string
              importance_score:
                type: number
              description:
                type: string
        global_explanation:
          type: object
          properties:
            summary:
              type: string
            top_features:
              type: array
              items:
                type: string
            model_behavior:
              type: string
        local_explanations:
          type: array
          items:
            type: object
            properties:
              sample_id:
                type: string
              prediction:
                type: string
              feature_contributions:
                type: object

    DataLoadRequest:
      type: object
      required:
        - dataset_type
      properties:
        dataset_type:
          type: string
          enum: [games, teams, players, plays]
        filters:
          type: object
          properties:
            season:
              type: integer
            week:
              type: integer
            team:
              type: string
            conference:
              type: string
        columns:
          type: array
          items:
            type: string
        limit:
          type: integer
          default: 1000
        offset:
          type: integer
          default: 0

    DataLoadResponse:
      type: object
      properties:
        dataset_id:
          type: string
        row_count:
          type: integer
        columns:
          type: array
          items:
            type: string
        data:
          type: array
          items:
            type: object
            additionalProperties: true
        metadata:
          type: object
          properties:
            source:
              type: string
            last_updated:
              type: string
              format: date-time
            data_quality_score:
              type: number
              minimum: 0
              maximum: 1

    DataExportRequest:
      type: object
      required:
        - dataset_id
        - format
      properties:
        dataset_id:
          type: string
        format:
          type: string
          enum: [csv, json, excel, parquet]
        include_metadata:
          type: boolean
          default: false
        compression:
          type: string
          enum: [none, gzip, zip]
          default: none

    DataExportResponse:
      type: object
      properties:
        export_id:
          type: string
        download_url:
          type: string
        file_size:
          type: integer
        format:
          type: string
        expires_at:
          type: string
          format: date-time

    DatasetSchema:
      type: object
      properties:
        dataset_type:
          type: string
        schema:
          type: array
          items:
            type: object
            properties:
              column_name:
                type: string
              data_type:
                type: string
              description:
                type: string
              nullable:
                type: boolean
              unique_values:
                type: integer
              sample_values:
                type: array
                items:
                  type: string
        relationships:
          type: array
          items:
            type: object
            properties:
              from_column:
                type: string
              to_dataset:
                type: string
              to_column:
                type: string
              relationship_type:
                type: string

    SystemHealth:
      type: object
      properties:
        status:
          type: string
          enum: [healthy, degraded, unhealthy]
        timestamp:
          type: string
          format: date-time
        components:
          type: object
          properties:
            analytics_orchestrator:
              type: object
              properties:
                status:
                  type: string
                response_time:
                  type: number
                uptime:
                  type: number
            agent_system:
              type: object
              properties:
                status:
                  type: string
                active_agents:
                  type: integer
                total_requests:
                  type: integer
            model_engine:
              type: object
              properties:
                status:
                  type: string
                loaded_models:
                  type: integer
                cache_hit_rate:
                  type: number
            data_layer:
              type: object
              properties:
                status:
                  type: string
                available_datasets:
                  type: integer
                last_update:
                  type: string
                  format: date-time

    PerformanceMetrics:
      type: object
      properties:
        time_range:
          type: string
        metrics:
          type: object
          properties:
            performance:
              type: object
              properties:
                average_response_time:
                  type: number
                p95_response_time:
                  type: number
                throughput:
                  type: number
                error_rate:
                  type: number
            usage:
              type: object
              properties:
                total_requests:
                  type: integer
                unique_users:
                  type: integer
                popular_features:
                  type: array
                  items:
                    type: string
                cache_hit_rate:
                  type: number
            errors:
              type: object
              properties:
                error_count:
                  type: integer
                error_types:
                  type: array
                  items:
                    type: object
                    properties:
                      type:
                        type: string
                      count:
                        type: integer
                      last_occurrence:
                        type: string
                        format: date-time

    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: string
              example: "INVALID_REQUEST"
            message:
              type: string
              example: "Request body is missing required field 'user_id'"
            details:
              type: object
            timestamp:
              type: string
              format: date-time
            request_id:
              type: string

  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: Authorization
      description: "API key authentication. Use format: 'Bearer sk-your-api-key-here'"
    SessionAuth:
      type: apiKey
      in: header
      name: X-Session-ID
      description: "Session-based authentication. Use session ID returned from login endpoint"
    NoAuth:
      type: http
      scheme: basic
      description: "No authentication required (local development only)"

security:
  - ApiKeyAuth: []
  - SessionAuth: []
  - NoAuth: []